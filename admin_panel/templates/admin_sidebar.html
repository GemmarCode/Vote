<!-- Admin Sidebar -->
<div class="sidebar" style="background: var(--primary); min-height: 100vh; width: 250px; position: fixed; left: 0; top: 0; padding-top: 20px;">
    <div class="d-flex justify-content-center align-items-center mb-4">
        <i class="fas fa-user-shield fa-2x text-white me-2"></i>
        <div>
            <h4 class="text-white mb-0">
                {% if request.user.is_superuser %}Admin Panel{% elif is_chairman %}Chairman Panel{% else %}Committee Panel{% endif %}
            </h4>
            {% if current_school_year %}
            <div class="text-white small mt-1">School Year: {{ current_school_year }}</div>
            {% endif %}
        </div>
    </div>
    
    {% if request.user.is_superuser %}
    <!-- Super Admin: Dashboard, Settings and Activity Logs -->
    <ul class="nav flex-column">
        <li class="nav-item">
            <a class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}" 
               href="{% url 'admin_panel:dashboard' %}"
               style="color: white; padding: 15px 25px;">
                <i class="fas fa-tachometer-alt me-2"></i>
                Dashboard
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if request.resolver_match.url_name == 'settings' %}active{% endif %}" 
               href="{% url 'admin_panel:settings' %}"
               style="color: white; padding: 15px 25px;">
                <i class="fas fa-cog me-2"></i>
                Settings
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if request.resolver_match.url_name == 'activity_logs' %}active{% endif %}" 
               href="{% url 'admin_panel:activity_logs' %}"
               style="color: white; padding: 15px 25px;">
                <i class="fas fa-history me-2"></i>
                Activity Logs
            </a>
        </li>
    </ul>
    {% elif is_chairman %}
    <!-- Chairman: Dashboard, Manage Students, Add Candidates, Results, Settings (no Verification Codes) -->
    <ul class="nav flex-column">
        <li class="nav-item">
            <a class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}" 
               href="{% url 'admin_panel:dashboard' %}"
               style="color: white; padding: 15px 25px;">
                <i class="fas fa-tachometer-alt me-2"></i>
                Dashboard
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if request.resolver_match.url_name == 'manage_users' %}active{% endif %}" 
               href="{% url 'admin_panel:manage_users' %}"
               style="color: white; padding: 15px 25px;">
                <i class="fas fa-users me-2"></i>
                Manage Students
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if request.resolver_match.url_name == 'manage_candidates' %}active{% endif %}" 
               href="{% url 'admin_panel:manage_candidates' %}"
               style="color: white; padding: 15px 25px;">
                <i class="fas fa-user-plus me-2"></i>
                Add Candidates
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if request.resolver_match.url_name == 'generate_report' %}active{% endif %}" 
               href="{% url 'admin_panel:generate_report' %}"
               style="color: white; padding: 15px 25px;">
                <i class="fas fa-chart-bar me-2"></i>
                Results
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if request.resolver_match.url_name == 'settings' %}active{% endif %}" 
               href="{% url 'admin_panel:settings' %}"
               style="color: white; padding: 15px 25px;">
                <i class="fas fa-cog me-2"></i>
                Settings
            </a>
        </li>
    </ul>
    {% else %}
    <!-- Committee: Current Menu -->
    <ul class="nav flex-column">
        <li class="nav-item">
            <a class="nav-link {% if request.resolver_match.url_name == 'verification_codes' %}active{% endif %}" 
               href="{% url 'admin_panel:verification_codes' %}"
               style="color: white; padding: 15px 25px;">
                <i class="fas fa-key me-2"></i>
                Verification Codes
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if request.resolver_match.url_name == 'committee_change_password' %}active{% endif %}" 
               href="{% url 'admin_panel:committee_change_password' %}"
               style="color: white; padding: 15px 25px;">
                <i class="fas fa-lock me-2"></i>
                Change Password
            </a>
        </li>
    </ul>
    {% endif %}

    <div class="mt-auto" style="position: absolute; bottom: 20px; width: 100%; padding: 0 25px;">
        <a href="{% url 'admin_panel:logout' %}" class="btn btn-light w-100">
            <i class="fas fa-sign-out-alt me-2"></i>
            Logout
        </a>
    </div>
</div>

<style>
.sidebar .nav-link {
    transition: all 0.3s ease;
    border-radius: 8px;
    margin: 5px 15px;
}

.sidebar .nav-link:hover, .sidebar .nav-link.active {
    background: rgba(255, 255, 255, 0.1);
    transform: translateX(5px);
}

.sidebar .nav-link.active {
    background: rgba(255, 255, 255, 0.2);
    font-weight: bold;
}

/* Custom scrollbar for sidebar */
.sidebar::-webkit-scrollbar {
    width: 5px;
}

.sidebar::-webkit-scrollbar-track {
    background: rgba(227, 242, 253, 0.1);
}

.sidebar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 4px;
}

.sidebar::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.4);
}
</style>

<!-- "Darell BAYOT DAYUN PISOT" -->